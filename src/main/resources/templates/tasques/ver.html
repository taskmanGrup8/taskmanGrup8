<!DOCTYPE html>
<html lang="cat" xmlns:th="http://www.thymeLeaf.org">

<head th:replace="generic/main :: head">
</head>

<body>
	<!-- 
		Vista on es pot veure el detall de la fase seleccionada
		
	-->
	<div th:replace="generic/main :: navbar-empresa"></div>
	<div class="container mt-5 pt-5">

		<div th:replace="generic/main :: mensajes"></div>
		<div class="pb-4">
			<h3 th:text="${titol}"></h3>
		</div>
		<!-- Camps de la fase seleccionada-->
		<div class="row">
			<form th:action="@{/tasques/result}" th:object="${tasca}" method="post">
				<fieldset disabled>
					<!-- ID -->
					<div class="mb-3 col-2 col-sm-2 col-md-2 col-lg-1 col-xl-1">
						<label for="id" class="form-label">ID</label> <input type="text" class="form-control" id="id"
							th:field="*{id}" />
					</div>
					<!-- Àlies -->
					<div class="mb-3 col-2 col-sm-2 col-md-2 col-lg-1 col-xl-1">
						<label for="nom-alias" class="form-label">Àlies</label> <input type="text" class="form-control"
							id="nom-alias" th:field="*{codigo}" />
					</div>
					
					<!-- Descripció -->
					<div class="mb-3 col-2 col-sm-2 col-md-2 col-lg-1 col-xl-1">
						<label for="descripcio" class="form-label">Descripció</label> <input type="text" class="form-control"
							id="descripcio" th:field="*{descripcion}" />
					</div>	
					
					<!-- Tiempo Estimado -->
					<div class="mb-3 col-2 col-sm-2 col-md-2 col-lg-1 col-xl-1">
						<label for="tiempoEstimado" class="form-label">Temps estimat</label> <input type="text" class="form-control"
							id="tiempoEstimado" th:field="*{tiempoEstimado}" />
					</div>
					
					<!-- Cíclica -->
					<div class="mb-3 col-2 col-sm-2 col-md-2 col-lg-1 col-xl-1">
						<label for="ciclica" class="form-label">Cíclica</label> <input type="checkbox"
							id="ciclica" th:field="*{ciclica}" />
					</div>	
					
					<!-- Temps cicle -->
					<div th:if="${tasca.ciclica}" class="mb-3 col-2 col-sm-2 col-md-2 col-lg-1 col-xl-1">
						<label for="tempsCicle" class="form-label">Temps Cicle</label> <input type="text" class="form-control"
							id="tempsCicle" th:field="*{tiempoCiclo}" />
					</div>						
					
				</fieldset>
			</form>
		</div>	
				
		<!-- Llistat d'usuaris assignats a aquest departament -->
		<div class="row mt-5" >
			<div class="pb-4 mt-3">
				<h3 class="float-start">Llistat de fases</h3>
			</div>
			<div class="col-12 mt-4 pt-1">
				<table class="mt-3 table table-striped">
					<thead>
						<tr>
							<th class="text-center" scope="col">#</th>
							<th scope="col">Àlies</th>
							<th scope="col">Nom</th>
							<th scope="col">Descripció</th>
							<th scope="col">Temps estimat</th>
							<th scope="col">Departament</th>							
							<th class="text-center" scope="col">Editar</th>
							<th class="text-center" scope="col">Eliminar</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="fase: ${fases}">
							<td class="text-center"><a class="btn btn-outline-primary btn-sm"
									th:href="@{/fasesConTiempo/ver/}+ ${fase.id}" th:text="${fase.id}"></a></td>
							<td th:text="${fase.fase.codigo}"></td>
							<td th:text="${fase.fase.nombre}"></td>
							<td th:text="${fase.fase.descripcion}"></td>
							<td th:text="${fase.tiempoEstimado}"></td>
							<td th:text="${fase.fase.departament.nombre}"></td>							
							<td class="text-center"><a th:href="@{/fasesConTiempo/actualizar/}+ ${fase.id}"><i
										class="fas fa-edit text-primary"></i></a></td>
							<td class="text-center"><a th:href="@{/fasesConTiempo/eliminar/}+ ${fase.id}"
									onclick="return confirm('Estàs segur que vols eliminar?');"><i
										class="fas fa-trash text-danger"></i></a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		
			
	</div>

	<footer th:replace="generic/main :: footer"></footer>

</body>

</html>